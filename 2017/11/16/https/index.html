<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>HTTPS的核心SSL/TSL协议 | Codes Online</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="/css/normalize.min.css"><link rel="stylesheet" type="text/css" href="/css/pure-min.css"><link rel="stylesheet" type="text/css" href="/css/grids-responsive-min.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><script type="text/javascript" src="/js/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">HTTPS的核心SSL/TSL协议</h1><a id="logo" href="/.">Codes Online</a><p class="description">_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _enjoying</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">HTTPS的核心SSL/TSL协议</h1><div class="post-meta">Nov 16, 2017<span> | </span><span class="category"><a href="/categories/安全/">安全</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><ul>
<li>第一篇：<a href="http://www.jianshu.com/p/2542c95fb023" target="_blank" rel="external">加密和哈希</a></li>
<li>第二篇：<a href="http://www.jianshu.com/p/e767a4e9252e" target="_blank" rel="external">数字签名和数字证书</a></li>
<li>第三篇：<a href="http://www.jianshu.com/p/c93612b3abac" target="_blank" rel="external">HTTPS的核心SSL/TSL协议</a></li>
<li>第四篇：<a href="http://www.jianshu.com/p/ce2a9bc519f5" target="_blank" rel="external">iOS中的实际运用</a></li>
</ul>
<p>逻辑图</p>
<p><img src="/2017/11/16/https/1.png" alt=""></p>
<h3 id="加密-Encrypt"><a href="#加密-Encrypt" class="headerlink" title="加密(Encrypt)"></a>加密(Encrypt)</h3><ul>
<li><p>加密的概念：简单来说就是一组含有参数k的变换E。信息m通过变换E得到c = E(m)。原始信息m为明文，通过变换得到的信息c为密文。从明文得到密文的过程叫做加密，变换E为加密算法，参数k称作秘钥。同一个加密算法，可以取不同的密钥，得出不同的加密结果。从密文c恢复明文m的过程称作解密，解密算法D是加密算法E的逆运算。解密算法也有参数，称作解密算法的秘钥。</p>
</li>
<li><p>加密的方式：私钥密码(对称加密)和公钥密码(非对称加密)。</p>
</li>
</ul>
<h3 id="私钥密码-对称加密"><a href="#私钥密码-对称加密" class="headerlink" title="私钥密码(对称加密)"></a>私钥密码(对称加密)</h3><h4 id="私钥密码实例-凯撒-J-Caesar-密码："><a href="#私钥密码实例-凯撒-J-Caesar-密码：" class="headerlink" title="私钥密码实例-凯撒(J.Caesar)密码："></a>私钥密码实例-凯撒(J.Caesar)密码：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">公元前罗马皇帝凯撒(J.Caesar)曾用密码传递作战命令。他的加密方法是把每个字母按字母表的顺序向后移动3位，最后3个字母依次变成前3个字母。例如，&quot;take action at middle night&quot;，经过加密变成&quot;wdnhdfwlrqdwplqqohqljkw&quot;(忽略掉空格)。(这个加密算法应该都不陌生，数据结构双向循环链表部分应该都实现过的)</span><br><span class="line"></span><br><span class="line">凯撒密码的加密算法是把字母按字母表的顺序循环移动k位，取k=3就是凯撒所用的加密算法。如果用数字0 ~ 25分别表示26个字母，算法可表示成 E(i) = (i + k)mod26, i = 0, 1, ..., 25,其中k就是加密秘钥。凯撒密码的解密算法是D(i) = (i - k) mode 26, i = 0, 1, ..., 25。其中k就是解密秘钥。它的解密算法的秘钥与加密算法的秘钥相同。</span><br></pre></td></tr></table></figure>
<h4 id="私钥密码"><a href="#私钥密码" class="headerlink" title="私钥密码"></a>私钥密码</h4><p>由以上例子可以看出。私钥加密的秘钥是对称的，只要知道加密秘钥就能推出解密秘钥(所以称为对称加密)。通信双方分别持有加密密钥和解密密钥，密钥对外是绝对保密的，必须通过秘密渠道传送 。常见的对称加密算法有：DES、3DES、TDEA、Blowfish、RC2、RC4、RC5、IDEA、SKIPJACK、AES。</p>
<h3 id="公钥加密-非对称加密"><a href="#公钥加密-非对称加密" class="headerlink" title="公钥加密(非对称加密)"></a>公钥加密(非对称加密)</h3><h4 id="公钥加密概念"><a href="#公钥加密概念" class="headerlink" title="公钥加密概念"></a>公钥加密概念</h4><p>迪菲(W.Diffie)和赫尔曼(M.Hellman)于1976年提出公钥密码的思想，这种密码是非对称的，也就是说，不能从加密密钥推算出解密密钥，所以又称之为非对称加密。加密密钥不需要保密，可以公开，称之为公钥，只需要保守解密秘钥称之为私钥。公钥和私钥是成对的。常见的非对称加密算法有：RSA、Elgamal、背包算法、Rabin、D-H、ECC。</p>
<p>公钥加密简单举例：甲乙两人通信，甲将他的加密密钥(公钥)公布，任何想与甲通信的人都可以使用这个加密密钥将要传送的信息(明文)加密成密文发送给甲，只有甲自己知道解密密钥(私钥)，能够把密文还原为明文。任何第三方即使截获到密文也不可能知道密文所传递的信息。</p>
<p>两种加密方式对比如下图(图1-0)所示：</p>
<p><img src="/2017/11/16/https/2.png" alt=""></p>
<h3 id="基于公钥密码的加密和认证"><a href="#基于公钥密码的加密和认证" class="headerlink" title="基于公钥密码的加密和认证"></a>基于公钥密码的加密和认证</h3><p>加密和认证是两个不同的概念，其中加密是保证数据的安全性，认证是确保用户的真实性。只有通信双方确定是真正要通信的双方，通信才有进行下去的必要。这也就是认证的主要目的。</p>
<h3 id="基于公钥密码的加密过程"><a href="#基于公钥密码的加密过程" class="headerlink" title="基于公钥密码的加密过程"></a>基于公钥密码的加密过程</h3><p>比如有两个用户Alice和Bob，Alice想把一段明文通过公钥密码的技术发送给Bob，Bob有一对公钥和私钥，那么加密解密的过程如下：</p>
<p>1、Bob将他的公钥传送给Alice。<br>2、Alice用Bob的公钥加密她的消息，然后传送给Bob。<br>3、Bob用他的私钥解密Alice的消息。  </p>
<p>Alice使用Bob的公钥进行加密，Bob用自己的私钥进行解密。</p>
<h3 id="基于公钥密码的认证过程"><a href="#基于公钥密码的认证过程" class="headerlink" title="基于公钥密码的认证过程"></a>基于公钥密码的认证过程</h3><p>认证和加密就不同了，主要是鉴别用户的真伪。还是Alice和Bob这两个用户，Alice有一对公私钥，Alice想让Bob知道自己是真实的Alice，而不是假冒的，因此Alice只要使用私钥对文件加密发送给Bob，Bob使用Alice的公钥对文件进行解密，如果可以解密成功，则证明Alice的私钥是正确的，因而就完成了对Alice的身份鉴别。</p>
<p>整个身份认证的过程如下：</p>
<p>1、Alice用她的私钥对文件加密，从而对文件签名。<br>2、Alice将签名的文件传送给Bob。<br>3、Bob用Alice的公钥解密文件，从而验证签名。  </p>
<p>Alice使用自己的私钥加密，Bob用Alice的公钥进行解密。</p>
<h3 id="基于公钥密码的加密和认证的思考"><a href="#基于公钥密码的加密和认证的思考" class="headerlink" title="基于公钥密码的加密和认证的思考"></a>基于公钥密码的加密和认证的思考</h3><p>在加密过程中，思考如何保证Alice拿到公钥后就能确定是Bob的公钥，若是篡改的公钥，通信进行下去已经无意义。接下来的第二篇文章<a href="http://www.jianshu.com/p/e767a4e9252e" target="_blank" rel="external">数字签名和数字证书</a>来解答这个问题。</p>
<h3 id="哈希-Hash"><a href="#哈希-Hash" class="headerlink" title="哈希(Hash)"></a>哈希(Hash)</h3><p>哈希与加密是不同的，概括来说，哈希(Hash)是将目标文本转换成具有相同长度的、不可逆的杂凑字符串(或叫做消息摘要)，而加密(Encrypt)是将目标文本转换成具有不同长度的、可逆的密文。</p>
<p>两者有如下重要区别：<br>1、哈希算法往往被设计成生成具有相同长度的文本，而加密算法生成的文本长度与明文本身的长度有关。</p>
<p>2、哈希算法是不可逆的，而加密算法是可逆的。<br>这里重点强调一下Hash和Encrypt的主要区别，因为接下来的文章要用到这两个概念，这里对此不做深究。详细介绍可看我下面参考的一篇文章<a href="http://www.cnblogs.com/leoo2sk/archive/2010/10/01/hash-and-encrypt.html" target="_blank" rel="external">哈希(Hash)与加密(Encrypt)的基本原理、区别及工程应用</a>。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>第一篇讲解的都是一些常用的基本概念，做安全肯定是会经常遇见，后续的几篇文章也依赖于对这些概念的理解，所以这里先提一下。关于Hash也只强调了一下和加密的区别。</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>屈婉玲,耿素云,张立昂. 离散数学:高等教育出版社<br><a href="http://www.cnblogs.com/longshiyVip/p/5080917.html" target="_blank" rel="external">详解公钥、私钥、数字证书的概念</a><br><a href="http://www.cnblogs.com/leoo2sk/archive/2010/10/01/hash-and-encrypt.html" target="_blank" rel="external">哈希(Hash)与加密(Encrypt)的基本原理、区别及工程应用</a></p>
<p>来源：<a href="http://www.jianshu.com/p/2542c95fb023" target="_blank" rel="external">http://www.jianshu.com/p/2542c95fb023</a></p>
</div><div class="tags"></div><div class="post-nav"><a href="/2017/11/18/rfid/" class="pre">RFID有源标签与无源标签的区别</a><a href="/2017/11/14/hikari/" class="next">数据库连接池性能比对(hikari druid c3p0 dbcp jdbc)</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Maven/">Maven</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Netty/">Netty</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node-js/">Node.js</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OpenCV/">OpenCV</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring-Cloud/">Spring Cloud</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a><span class="category-list-count">14</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/嵌入式/">嵌入式</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">20</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/环境搭建/">环境搭建</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/行业/">行业</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.linkedkeeper.com/" title="张松然" target="_blank">张松然</a><ul></ul><a href="http://weishu.me/" title="维术" target="_blank">维术</a><ul></ul><a href="http://zhixinliu.com/" title="Zhixin Liu" target="_blank">Zhixin Liu</a><ul></ul><a href="http://www.ruanyifeng.com/" title="阮一峰" target="_blank">阮一峰</a><ul></ul><a href="https://www.tianmaying.com/user/luoruici" title="Ricky" target="_blank">Ricky</a><ul></ul><a href="http://jeffdeng.me/" title="荒于嬉" target="_blank">荒于嬉</a><ul></ul><a href="https://kcaogen.com/blog" title="康草根" target="_blank">康草根</a><ul></ul><a href="http://13blog.site/" title="zhenfeng13" target="_blank">zhenfeng13</a><ul></ul><a href="http://binux.cn/" title="Binux" target="_blank">Binux</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Codes Online.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="/js/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>